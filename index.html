<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BANANA HUB - AUTO RESET</title>
    <style>
        body { margin:0; background:#111; color:#FFE135; font-family: sans-serif; display:flex; justify-content:center; align-items:center; height:100vh; }
        .box { background:#000; padding:30px; border:3px solid #FFE135; border-radius:20px; text-align:center; width:350px; box-shadow:0 0 30px #FFE135; }
        .meme-img { width: 100px; margin-bottom: 10px; animation: bounce 2s infinite; }
        .key { font-size:24px; font-weight:bold; color:#fff; background:#222; padding:15px; margin:20px 0; border-radius:10px; border:1px dashed #FFE135; }
        button { background:#FFE135; border:none; padding:15px; width:100%; font-weight:bold; cursor:pointer; border-radius:10px; text-transform:uppercase; }
        #countdown { color:#ff4444; font-weight:bold; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
    </style>
</head>
<body>
    <div class="box">
        <img src="https://media.tenor.com/2Xy40aH9yG4AAAAi/banana-cat-crying.gif" class="meme-img">
        <h2>üçå BANANA HUB</h2>
        <div style="font-size: 11px; color:#888;">HWID: <span id="hwid-show">...</span></div>
        <div id="key-display" class="key">LOADING...</div>
        <button onclick="copyKey()">COPY KEY</button>
        <div style="margin-top:15px; font-size:14px;">Trang web s·∫Ω t·ª± Reset sau: <span id="countdown">10</span>s</div>
    </div>
    <script>
        const params = new URLSearchParams(window.location.search);
        const hwid = params.get('hwid');
        document.getElementById('hwid-show').innerText = hwid || "MISSING";

        async function init() {
            if(!hwid) { document.getElementById('key-display').innerText = "V√ÄO B·∫∞NG SCRIPT!"; return; }
            try {
                const res = await fetch(`/api/verify?hwid=${hwid}&t=${Date.now()}`);
                const data = await res.json();
                document.getElementById('key-display').innerText = data.key;
                
                let t = data.ttl;
                const cd = document.getElementById('countdown');
                const timer = setInterval(() => {
                    t--; cd.innerText = t;
                    if(t <= 0) {
                        clearInterval(timer);
                        window.location.reload(); // T·ª∞ RESET TRANG WEB
                    }
                }, 1000);
            } catch(e) { console.log(e); }
        }
        init();
        function copyKey() { 
            navigator.clipboard.writeText(document.getElementById('key-display').innerText); 
            alert("ƒê√£ Copy Key!"); 
        }
    </script>
</body>
</html>
